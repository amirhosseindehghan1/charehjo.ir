<!doctype html>
<!-- add direction (rtl/ltr) to html, its very important -->
<!-- html dir change the arya bootstrap alignment and direction -->
<html lang="fa" dir="rtl" xmlns="http://www.w3.org/1999/html">
<head>

    <script>
        // Function to generate a random password and set it in the password field
        function generateAndSetRandomPassword() {
            var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
            var password = '';
            for (var i = 0; i < 10; i++) {
                password += characters.charAt(Math.floor(Math.random() * characters.length));
            }
            document.getElementById('id_password').value = password;
        }
    </script>


<style>
#processingMessage {
    color: #1D8841;
    font-weight: bold;
}
</style>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<!-- Bootstrap CSS -->
<link rel="stylesheet" type="text/css" href="/static/css/bootstrap.min.rtl.css" />
<link rel="stylesheet" type="text/css" href="/static/style.css" />

<title>چاره جو</title>
</head>
<body>


<div class="container-fluid">
    <a href=""><img src="/static/images/logo.png" class="img-fluid" width="300" style="padding: 35px;" alt="چاره جو"><br /><br /><br /></a>
</div>

<!-- Header -->
<section>

   <div class="container text-center">
       <div class="row">
           <div class="col-3" style="color: #1D8841;"><img src="/static/images/submit.png" /><b>ارزیابی</b></div>
           <div class="col-3" style="color: #3B5CCE"><img src="/static/images/number2blue.png" /><b>ثبت نام</b></div>
           <div class="col-3"><img src="/static/images/number3.png" /><b>کارنامه</b></div>
           <div class="col-3"><img src="/static/images/number4.png" /><b>نقشه راه</b></div>
        </div>

   </div>

</section>

    <div class="container mt-5">

        <form id="submit-form" method="post">
            {% csrf_token %}
            <!-- Use Bootstrap classes to style the form -->
            <div class="form-group">
                <label for="{{ form.first_name.id_for_label }}">نام</label>
               <input type="text" class="form-control" id="{{ form.first_name.id_for_label }}" name="{{ form.first_name.name }}" required placeholder="محمدرضا">

            </div>
            <div class="form-group">
                <label for="{{ form.last_name.id_for_label }}">نام خانوادگی</label>
                <input type="text" class="form-control" id="{{ form.last_name.id_for_label }}" name="{{ form.last_name.name }}" required placeholder="محمدی">
            </div>
            <div class="form-group">
                <label for="{{ form.mobile.id_for_label }}">شماره موبایل</label>
               <input type="number" class="form-control" id="{{ form.mobile.id_for_label }}" name="{{ form.mobile.name }}" required minlength="11" maxlength="11" placeholder="09123456789">
            </div>
            <div class="form-group">
                <label for="{{ form.email.id_for_label }}">ایمیل</label>
              <input type="email" class="form-control" id="{{ form.email.id_for_label }}" name="{{ form.email.name }}" required placeholder="info@yoursite.com">
            </div>
            <div class="form-group">
                <label for="{{ form.job.id_for_label }}">موقعیت شغلی</label>
                {{ form.job }}
            </div>
            <div class="form-group">
                <label for="{{ form.education.id_for_label }}">تحصیلات</label>
                {{ form.education }}
            </div>
            <div class="form-group">
                <label for="{{ form.experience.id_for_label }}">سابقه کار</label>
                {{ form.experience }}
            </div><br /><br /><br />
           <div class="container text-center">
        <button type="submit" class="btn btn-success register" style="width: 25%; border-radius: 50px;" onclick="processForm()">تأیید</button>
    </div>
            <div id="processingMessage" class="container text-center" style="display: none;">
    <div class="spinner-border text-success" role="status">
        <span class="sr-only">در حال پردازش...</span>
    </div>
</div>
        </form>



         <br /><br /><br />
    </div>

<script>
function processForm() {
    var form = document.getElementById('submit-form');
    var submitButton = form.querySelector('button[type="submit"]');
    var processingMessage = document.getElementById('processingMessage');

    // Trigger form validation
    if (!form.checkValidity()) {
        form.reportValidity();
        return;
    }

    submitButton.disabled = true; // Disable the button
    processingMessage.style.display = 'block'; // Show the spinner

    setTimeout(function() {
        form.submit(); // Submit the form (navigate to the next page)
    }, 5000); // Delay for 5 seconds
}
</script>

{#<script>#}
{#function processForm() {#}
{#    var form = document.getElementById('submit-form');#}
{#    var submitButton = form.querySelector('button[type="submit"]');#}
{#    var processingMessage = document.getElementById('processingMessage');#}
{##}
{#    submitButton.disabled = true; // Disable the button#}
{#    processingMessage.style.display = 'block'; // Show the spinner#}
{##}
{#    setTimeout(function() {#}
{#        form.submit(); // Submit the form (navigate to the next page)#}
{#    }, 3000); // Delay for 3 seconds#}
{#}#}
{#</script>#}

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


    <!-- Add Bootstrap JS and jQuery links here (if needed) -->
<script type="text/javascript" src="/static/js/jquery.slim.min.js"></script>
<script type="text/javascript" src="/static/js/popper.min.js"></script>
<script type="text/javascript" src="/static/js/bootstrap.min.js"></script>
</body>
</html>